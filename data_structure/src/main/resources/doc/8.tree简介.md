## Tree

### 1.1 基本概念

- 一个树可以没有任何节点，称为空树。
- 一个树可以只有一个节点，也就是根节点。
- 节点的度：子树的个数。
- 树的度：所有节点度中的最大值。
- 叶子节点：度为0的节点。
- 非叶子节点：度不为0的节点。
- 层数：根节点在第一层(有些以0层开始)。
- 节点的深度：从根节点到当前节点的唯一路径。
- 节点的高度：从当前节点到最远叶子节点的路径上的节点总数。
- 树的高度：所有节点高度中的最大值。
- 树的深度等于树的高度。

### 1.2 有序树，无序树，森林

- 有序树：数中任意节点的子节点之间有顺序关系。
- 无序树：树中任意节点的子节点之间没有数序关系，也称之为自由树。
- 森林：由m（m>=0）棵互不相交的树组成的集合。

### 1.3 二叉树(Binary Tree)

#### 1.3.1 特点

- 每个节点的度最大为2(最多拥有2棵子树)。
- 左子树和右子树是有顺序的。
- 即使某节点只有一棵子树，也要区分左右子树。
- 非空二叉树的第i层，最多有2^(i-1)个节点（i>=1）。
- 高度为h的二叉树上最多有2^h-1个节点（h>=1）。
- 对于任意一颗非空二叉树，如果叶子节点个数为n0，度为2的节点个数为n2，则有n0=n2+1(可以根据二叉树的边数来确定)。
  - 假设度为1的节点个数为n1，那么二叉树的节点总数n=n0+n1+n2.
  - 二叉树的边数T=n1+2*n2=n-1=n0+n1+n2-1。

![image-20210313133227656](https://gitee.com/code1997/blog-image/raw/master/images/image-20210313133227656.png)

#### 1.3.2 真二叉树(Proper Binary Tree)

- 所有节点的度要么为0，要么为2

![image-20210313135152598](https://gitee.com/code1997/blog-image/raw/master/images/image-20210313135152598.png)

#### 1.3.3 满二叉树(Full Binary Tree)

- 所有节点的度要么为0，要么为2，且所有的叶子节点都在最后一层。
- 同样高度的二叉树中，满二叉树的叶子节点数量最多，总节点数量最多。
- 满二叉树一定是真二叉树，真二叉树不一定是满二叉树。
- 假设满二叉树的高度为h(h>=1)，那么
  - 第i层的节点数为：2^(i-1)。
  - 叶子节点数量(h为总层数)：2^(h-1)。
  - 总结点数量：2^h-1。

![image-20210313140535339](https://gitee.com/code1997/blog-image/raw/master/images/image-20210313140535339.png)

#### 1.3.4 完全二叉树(Complete Binary Tree)

1）特点

- 叶子节点只会出现在最后两层，且最后一层的叶子节点都靠左对齐。
- 完全二叉树从根节点到倒数第2层是一颗满二叉树。
- 满二叉树一定是完全二叉树，完全二叉树不一定是满二叉树。

![image-20210313143110135](https://gitee.com/code1997/blog-image/raw/master/images/image-20210313143110135.png)

2）性质

- 度为1的节点只有左子树。
- 度为1的节点要么是1个，要么是0个。
- 同样节点数量的二叉树，完全二叉树的高度最小。
- 假设完全二叉树的高度为h，那么
  - 至少有2^(h-1)个节点。
  - 最多有2^h-1个节点(满二叉树的形态)
  - 总结点数为n：2^(h-1)<=n<=2^h-1
    - h=floor(log2n)+1。
- 一棵有n个节点的完全二叉树(n>0)，从上到下，从左到右对节点从1开始进行编号，对于任意第i个节点。
  - 如果i=1，他是根节点。
  - 如果i>1，他的父节点编号为floor(i/2)。
  - 如果2i<=n，他的左子节点编号为2i。
  - 如果2i>n，他没有左子节点。
  - 如果2*i+1<=n，他的右子节点编号为2i+1。
  - 如果2*i+1>n，他无右子节点。

![image-20210313152102913](https://gitee.com/code1997/blog-image/raw/master/images/image-20210313152102913.png)

![image-20210313152113982](https://gitee.com/code1997/blog-image/raw/master/images/image-20210313152113982.png)

问题：如果一棵完全二叉树有768个节点，求叶子节点的个数。

假设总结点数为n

- n=n0+n1+n2；
- n0=n2+1

因为n=2n0+n1-1，因为是完全二叉树，所以n1=0or1。本题中共有768个节点，因此n1=0，所以叶子节点n0=384。

编程时：n0 = (n+1)>>1 or n0=ceiling(n/2)。

### 1.4 国内外的区别

![image-20210314111506389](https://gitee.com/code1997/blog-image/raw/master/images/image-20210314111506389.png)





